<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Goggle SNS</title>
  <link rel="stylesheet" href="./style.css">
  <style>
    body { font-family: sans-serif; padding: 20px; }
    .course { border: 1px solid #ccc; margin-bottom: 1em; padding: 1em; border-radius: 8px; }
    .admin-panel { display: none; border: 2px dashed red; padding: 1em; margin-top: 2em; }
    #forumIcon { cursor: pointer; }
    #hiddenClickArea { display: none; }
  </style>
</head>
<body>
  <header>
    <h1>Goggle SNS ãƒ•ã‚©ãƒ¼ãƒ©ãƒ </h1>
    <button onclick="toggleCreateCourse()">ï¼‹ ã‚³ãƒ¼ã‚¹ã‚’ä½œæˆ</button>
    <button id="teacherKey" onclick="gotoRealClassroom()" style="display:none">ğŸ‘¨â€ğŸ« è€å¸«éµ</button>
    <span id="forumIcon">ğŸ“˜ Goggle Classroom</span>
  </header>

  <div id="createCourse" style="display:none">
    <h3>æ–°ã—ã„ã‚³ãƒ¼ã‚¹ã‚’ä½œæˆ</h3>
    <input type="text" id="courseTitle" placeholder="ã‚³ãƒ¼ã‚¹å">
    <input type="text" id="coursePassword" placeholder="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ (ç©ºæ¬„å¯)">
    <button onclick="createCourse()">ä½œæˆ</button>
  </div>

  <div id="courses"></div>

  <div id="versionInfo" style="display:none">
    <p>ãƒãƒ¼ã‚¸ãƒ§ãƒ³: <span id="versionTag" onclick="unlockAdmin()">v1.0.1</span></p>
    <input type="password" id="adminPassword" style="display:none" placeholder="ç®¡ç†è€…ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰">
    <button onclick="checkAdminPassword()" style="display:none" id="adminLoginBtn">ãƒ­ã‚°ã‚¤ãƒ³</button>
  </div>

  <div class="admin-panel" id="adminPanel">
    <h2>ğŸ‘‘ è¶…ç´šç®¡ç†è€…ãƒšãƒ¼ã‚¸</h2>
    <p>ã™ã¹ã¦ã®ã‚³ãƒ¼ã‚¹ä¸€è¦§ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œãƒ­ã‚°ï¼ˆä»®ï¼‰</p>
    <pre id="adminData"></pre>
  </div>

  <script>
    let clickCount = 0;
    const courses = [];

    function toggleCreateCourse() {
      const el = document.getElementById('createCourse');
      el.style.display = el.style.display === 'none' ? 'block' : 'none';
    }

    function createCourse() {
      const title = document.getElementById('courseTitle').value;
      const pw = document.getElementById('coursePassword').value;
      if (!title) return alert('ã‚³ãƒ¼ã‚¹åãŒå¿…è¦ã§ã™');
      const now = new Date();
      const course = {
        title,
        password: pw,
        timestamp: now.toLocaleString(),
      };
      courses.push(course);
      renderCourses();
    }

    function renderCourses() {
      const container = document.getElementById('courses');
      container.innerHTML = '';
      courses.forEach((c, i) => {
        const div = document.createElement('div');
        div.className = 'course';
        div.innerHTML = `<h4>${c.title}</h4>
                         <p>ä½œæˆæ—¥æ™‚: ${c.timestamp}</p>
                         <p>${c.password ? 'ğŸ”’ ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ä¿è­·ã•ã‚Œã¦ã„ã¾ã™' : 'ğŸ”“ å…¬é–‹ã‚³ãƒ¼ã‚¹'}</p>`;
        container.appendChild(div);
      });
    }

    function gotoRealClassroom() {
      window.open('https://classroom.google.com', '_blank');
    }

    document.getElementById('forumIcon').addEventListener('click', () => {
      clickCount++;
      if (clickCount === 2) {
        document.getElementById('versionInfo').style.display = 'block';
        clickCount = 0;
      }
    });

    function unlockAdmin() {
      const pwdInput = document.getElementById('adminPassword');
      const btn = document.getElementById('adminLoginBtn');
      pwdInput.style.display = 'inline';
      btn.style.display = 'inline';
    }

    function checkAdminPassword() {
      const pwd = document.getElementById('adminPassword').value;
      if (pwd === 'Wlj20120917') {
        document.getElementById('adminPanel').style.display = 'block';
        document.getElementById('adminData').textContent = JSON.stringify(courses, null, 2);
      } else {
        alert('ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒé•ã„ã¾ã™');
      }
    }

    // é–‹å§‹æ™‚æ˜¾ç¤ºè€å¸ˆé”®ï¼ˆå¼€å‘è°ƒè¯•ç”¨ï¼Œæ­£å¼éƒ¨ç½²å»ºè®®éšè—ï¼‰
    document.getElementById('teacherKey').style.display = 'inline';
  </script>
</body>
</html>
