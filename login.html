<!DOCTYPE html>
<html lang="ja">
<head><title>Goggle ログイン</title></head>
<body>
  <h2>Goggle アカウントへログイン</h2>
  <input id="email" placeholder="メールアドレス"><br>
  <input id="pass" type="password" placeholder="パスワード"><br>
  <button onclick="login()">ログイン</button>
  <script>
    async function login() {
      const url = 'hhttps://script.google.com/macros/s/AKfycbzOWtwafo0JpD8ysxJtdrwlvCrSBTuY86_3o8MMfLb-uNy5DCas8Tst3CxK1iFiVf3I/exec';
      const res = await fetch(url, {
        method: 'POST',
        body: new URLSearchParams({
          action: 'login',
          email: document.getElementById('email').value,
          password: document.getElementById('pass').value
        })
      });
      const json = await res.json();
      if (json.success) {
        localStorage.setItem('isAdmin', json.isAdmin);
        localStorage.setItem('name', json.name);
        location.href = 'sns.html';
      } else {
        alert('ログイン失敗');
      }
    }
  </script>
</body>
</html>
